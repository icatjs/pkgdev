"use strict";function gulpGroup(e,r){var t=new Stream.Transform({objectMode:!0});return e=e||{},r=r||"js",t._transform=function(t,n,a){var u=new StringDecoder("utf8"),c=u.write(t.contents),o=["p","l","u","g","i","n"].join(""),s=e.name+"-css-wrap";if("js"===r){var f=e.tpl?fs.readFileSync(e.tpl,"utf8"):"";f=f.replace(/(\\f|\\n|\\r|\\t|\\v)+/g,"").replace(/\s+/g," "),f=f?"<"+o+' class="'+s+'">'+f+"</"+o+">":f,e.template=f,c=var2value(c,e),t.contents=new Buffer(c,"utf-8")}else c=o+"."+s+"{"+c+"}",t.contents=new Buffer(c,"utf-8");a(null,t)},t}function var2value(e,r){var t=e.match(/<\%\=\w+\%>/g);return t&&t.forEach(function(t){var n=t.replace(/^<\%\=|\%>$/g,""),a=r[n]||"",u=new RegExp("<\\%\\="+n+"\\%>","g");e=e.replace(u,a)}),e}var Stream=require("stream"),Path=require("path"),StringDecoder=require("string_decoder").StringDecoder,fs=require("fs");module.exports=gulpGroup;